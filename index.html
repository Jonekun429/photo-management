<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Cleaner Pro - Full Features Restored</title>
    <style>
        :root {
            /* Cleaner Gurué¢¨ãƒ€ãƒ¼ã‚¯ãƒã‚¤ãƒ“ãƒ¼ãƒ†ãƒ¼ãƒ */
            --bg: #10121a;
            --surface: #1c1e2b;
            --surface-light: #2a2d3e;
            --text: #ffffff;
            --subtext: #9aa0b8;
            --accent: #5e6ad2; /* é’ç³»ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
            --success: #3ec4b5; /* ç·‘ç³»ï¼ˆã‚¹ãƒ¯ã‚¤ãƒ—é”æˆãªã©ï¼‰ */
            --danger: #d94a55; /* èµ¤ç³»ï¼ˆå‰Šé™¤ãªã©ï¼‰ */
            --border: rgba(255, 255, 255, 0.08);
            --radius: 18px;
            --btn-blue: #4c56c0;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif; background: #000; display: flex; justify-content: center; touch-action: manipulation; -webkit-font-smoothing: antialiased; color: var(--text); }
        #app { width: 100%; max-width: 414px; height: 100vh; height: 100dvh; background: var(--bg); position: relative; display: flex; flex-direction: column; overflow: hidden; }

        /* å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ */
        header { padding: 50px 20px 15px; flex-shrink: 0; z-index: 20; background: var(--bg); display: flex; justify-content: space-between; align-items: center; }
        h1 { font-size: 26px; font-weight: 700; letter-spacing: 0.5px; }

        /* è©³ç´°ç”»é¢ç”¨ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .sub-header { padding: 50px 20px 15px; background: var(--bg); display: flex; justify-content: space-between; align-items: center; }
        .sh-left { display: flex; align-items: center; gap: 10px; font-size: 20px; font-weight: 600; }
        .sh-back { cursor: pointer; font-size: 24px; padding-right: 10px; }
        .sh-actions { display: flex; gap: 10px; }
        .btn-round { width: 36px; height: 36px; border-radius: 50%; background: var(--surface-light); display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 18px; }
        .btn-capsule { padding: 8px 16px; border-radius: 20px; background: var(--surface-light); display: flex; align-items: center; gap: 6px; font-size: 13px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .btn-capsule:active { background: var(--surface); }

        /* ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ */
        .view { flex: 1; overflow-y: auto; padding: 0 20px 100px; display: none; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
        .view::-webkit-scrollbar { display: none; }
        .view.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- ãƒ›ãƒ¼ãƒ ç”»é¢ --- */
        .storage-info { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 8px; font-size: 12px; font-weight: 600; }
        .s-text { color: var(--subtext); transition: color 0.3s; }
        .s-text .blue { color: var(--accent); font-size: 14px; transition: all 0.3s; }
        .s-pct { color: var(--text); transition: all 0.3s; }
        .s-bar-bg { width: 100%; height: 6px; background: var(--surface-light); border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .s-bar-fill { height: 100%; background: var(--accent); border-radius: 4px; width: 26.8%; transition: width 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); }

        .search-bar { background: var(--surface); border-radius: 12px; padding: 10px 16px; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; color: var(--subtext); font-size: 14px; }

        .masonry { display: flex; gap: 12px; }
        .m-col { flex: 1; display: flex; flex-direction: column; gap: 12px; }
        .card { background: var(--surface); border-radius: var(--radius); position: relative; overflow: hidden; cursor: pointer; background-size: cover; background-position: center; transition: transform 0.2s; }
        .card:active { transform: scale(0.96); }
        .card::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.1) 60%, rgba(0,0,0,0) 100%); z-index: 1; }
        .card-content { position: absolute; bottom: 16px; left: 16px; right: 16px; z-index: 2; }
        .card h3 { font-size: 14px; font-weight: 600; margin-bottom: 2px; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        .card p { font-size: 20px; font-weight: 800; text-shadow: 0 1px 3px rgba(0,0,0,0.5); transition: all 0.3s; }

        .c-sim { height: 200px; background-image: url('https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400&q=80'); }
        .c-vid-sim { height: 160px; background-image: url('https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&q=80'); }
        .c-vid { height: 220px; background-image: url('https://images.unsplash.com/photo-1600607688969-a5bfcd64fd28?w=400&q=80'); }
        .c-ss { height: 140px; background-image: url('https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&q=80'); background-color: #fff; }
        .c-ss p, .c-ss h3 { color: #333; text-shadow: none; }
        .c-ss::after { background: linear-gradient(to top, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 100%); }

        /* --- è©³ç´°ç”»é¢ï¼ˆã‚°ãƒªãƒƒãƒ‰ï¼‰ --- */
        .detail-info { padding: 0 20px; margin-bottom: 15px; }
        .di-title { font-size: 24px; font-weight: 700; margin-bottom: 4px; }
        .di-sub { font-size: 13px; color: var(--subtext); transition: all 0.3s; }
        .grid-header { padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: var(--subtext); font-weight: 600; }
        .media-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px; padding: 0 2px; }
        .media-grid.two-cols { grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 0 20px; }
        .m-item { position: relative; aspect-ratio: 1/1; background: var(--surface-light); cursor: pointer; overflow: hidden; border-radius: 4px; transition: opacity 0.3s, transform 0.3s; }
        .media-grid.two-cols .m-item { border-radius: 12px; }
        .m-item img { width: 100%; height: 100%; object-fit: cover; transition: filter 0.2s, transform 0.2s; }
        .m-vid-time, .m-size { position: absolute; bottom: 8px; left: 8px; background: rgba(0,0,0,0.6); color: #fff; font-size: 10px; font-weight: 600; padding: 4px 8px; border-radius: 6px; }
        .m-size { background: var(--accent); }
        .m-check { position: absolute; bottom: 8px; right: 8px; width: 22px; height: 22px; border-radius: 50%; border: 2px solid #fff; background: rgba(0,0,0,0.3); transition: all 0.2s; z-index: 2; }
        .m-item.checked .m-check { background: var(--danger); border-color: var(--danger); display: flex; align-items: center; justify-content: center; transform: scale(1.1); }
        .m-item.checked .m-check::after { content: 'âœ“'; font-size: 14px; font-weight: bold; }
        .m-item.checked img { filter: brightness(0.6); transform: scale(1.05); }

        .sim-group { margin-bottom: 20px; transition: all 0.3s; overflow: hidden; }
        .sg-header { padding: 10px 20px; font-size: 14px; font-weight: 600; display: flex; justify-content: space-between; }
        .sg-badge { position: absolute; top: 8px; left: 8px; background: #fff; color: #000; font-size: 10px; font-weight: 700; padding: 4px 8px; border-radius: 6px; display: flex; align-items: center; gap: 4px; z-index: 2; }
        .sg-badge span { color: var(--accent); }

        .m-item.deleting { transform: scale(0.8); opacity: 0; }
        .delete-bar { position: fixed; bottom: 90px; left: 20px; right: 20px; background: var(--btn-blue); color: #fff; padding: 16px; border-radius: 16px; display: flex; justify-content: center; align-items: center; gap: 8px; font-weight: 700; font-size: 16px; box-shadow: 0 4px 20px rgba(76, 86, 192, 0.4); cursor: pointer; z-index: 50; transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.3s; transform: translateY(150%); opacity: 0; pointer-events: none; }
        .delete-bar.show { transform: translateY(0); opacity: 1; pointer-events: auto; }
        .delete-bar:active { transform: translateY(0) scale(0.97); }

        /* --- ã‚¹ãƒ¯ã‚¤ãƒ—ç”»é¢ (15ãƒ¶æœˆãƒªã‚¹ãƒˆå¾©æ´») --- */
        .swipe-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .swipe-stats { display: flex; gap: 12px; margin-bottom: 24px; }
        .stat-box { flex: 1; background: var(--surface); border-radius: 14px; padding: 14px; display: flex; align-items: center; gap: 12px; border: 1px solid var(--border); }
        .stat-icon { font-size: 26px; }
        .stat-label { font-size: 11px; color: var(--subtext); margin-bottom: 2px; }
        .stat-val { font-size: 16px; font-weight: 700; }

        .month-list { display: flex; flex-direction: column; gap: 12px; }
        .m-card { background: var(--surface); border-radius: var(--radius); padding: 16px; display: flex; gap: 16px; align-items: center; cursor: pointer; border: 1px solid transparent; transition: background 0.2s; }
        .m-card:active { background: var(--surface-light); }
        .m-thumb { width: 64px; height: 64px; border-radius: 12px; background-size: cover; background-position: center; position: relative; }
        .m-thumb.done::after { content: 'âœ“'; position: absolute; inset: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; font-size: 24px; border-radius: inherit; }
        .m-info { flex: 1; }
        .m-title { font-size: 16px; font-weight: 700; margin-bottom: 8px; display: flex; justify-content: space-between; }
        .m-medal { font-size: 22px; opacity: 0.2; }
        .m-medal.active { opacity: 1; }
        .m-prog-txt { font-size: 11px; color: var(--subtext); margin-bottom: 6px; }
        .m-prog-bg { width: 100%; height: 4px; background: var(--surface-light); border-radius: 2px; }
        .m-prog-fill { height: 100%; background: var(--success); border-radius: 2px; }

        /* ã‚¹ãƒ¯ã‚¤ãƒ— ãƒ—ãƒ¬ã‚¤ç”»é¢ */
        #swipe-play { display: none; flex-direction: column; height: 100%; position: absolute; inset: 0; background: var(--bg); z-index: 30; padding: 50px 20px 30px; }
        .sp-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
        .sp-back { font-size: 20px; color: var(--text); padding: 10px; cursor: pointer; }
        .sp-img-wrap { flex: 1; position: relative; border-radius: var(--radius); overflow: hidden; margin-bottom: 20px; background: #000; display: flex; align-items: center; justify-content: center; }
        .sp-img { max-width: 100%; max-height: 100%; object-fit: contain; border-radius: var(--radius); transition: transform 0.3s ease, opacity 0.3s ease; }
        .swipe-left { transform: translateX(-100%) rotate(-10deg); opacity: 0; }
        .swipe-right { transform: translateX(100%) rotate(10deg); opacity: 0; }
        .sp-actions { display: flex; gap: 16px; justify-content: center; }
        .sp-btn { flex: 1; padding: 16px; border-radius: 14px; border: none; font-size: 16px; font-weight: 700; color: #fff; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-dislike { background: var(--danger); }
        .btn-like { background: var(--success); color: #000; }

        /* --- ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰ç”»é¢ --- */
        .guide-section { background: var(--surface); border-radius: 16px; padding: 20px; margin-bottom: 16px; border: 1px solid var(--border); }
        .guide-step { font-size: 12px; color: var(--accent); font-weight: 700; margin-bottom: 4px; letter-spacing: 1px; }
        .guide-title { font-size: 18px; font-weight: 700; margin-bottom: 10px; }
        .guide-desc { font-size: 14px; color: var(--subtext); line-height: 1.5; }
        
        .faq-item { border-bottom: 1px solid var(--border); padding: 16px 0; }
        .faq-item:last-child { border-bottom: none; }
        .faq-q { font-size: 15px; font-weight: 600; margin-bottom: 8px; display: flex; gap: 8px; }
        .faq-q::before { content: 'Q.'; color: var(--accent); }
        .faq-a { font-size: 13px; color: var(--subtext); line-height: 1.5; display: flex; gap: 8px; }
        .faq-a::before { content: 'A.'; color: var(--success); }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        nav { position: absolute; bottom: 0; left: 0; width: 100%; height: 85px; background: rgba(28,30,43,0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); display: flex; justify-content: space-around; align-items: center; padding-bottom: 20px; border-top: 1px solid var(--border); z-index: 40; }
        .ni { display: flex; flex-direction: column; align-items: center; color: var(--subtext); font-size: 10px; font-weight: 600; cursor: pointer; transition: color 0.2s; width: 60px; }
        .ni.on { color: var(--accent); }
        .nic { font-size: 24px; margin-bottom: 4px; }
    </style>
</head>
<body>
<div id="app">
    <header id="home-header">
        <h1>ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸</h1>
    </header>

    <main id="home" class="view active">
        <div class="storage-info">
            <div class="s-text"><span class="blue" id="home-used-gb">536 GB</span> ã‚’ä½¿ç”¨ä¸­ : å…¨ 2,000 GB</div>
            <div class="s-pct" id="home-pct">26.8% ä½¿ç”¨æ¸ˆã¿</div>
        </div>
        <div class="s-bar-bg"><div class="s-bar-fill" id="home-bar"></div></div>

        <div class="search-bar"><span>ğŸ”</span> Search...</div>

        <div class="masonry">
            <div class="m-col">
                <div class="card c-sim" onclick="navTo('similar-photos')">
                    <div class="card-content"><h3>ä¼¼ã¦ã„ã‚‹å†™çœŸ</h3><p id="card-sim-sz">24.4 GB</p></div>
                </div>
                <div class="card c-vid-sim" onclick="navTo('similar-videos')">
                    <div class="card-content"><h3>é¡ä¼¼ã®ãƒ“ãƒ‡ã‚ª</h3><p id="card-simvid-sz">1.5 GB</p></div>
                </div>
            </div>
            <div class="m-col">
                <div class="card c-vid" onclick="navTo('videos')">
                    <div class="card-content"><h3>å‹•ç”»ã‚’æ•´ç†</h3><p id="card-vid-sz">14.3 GB</p></div>
                </div>
                <div class="card c-ss" onclick="navTo('screenshots')">
                    <div class="card-content"><h3>ã‚¹ã‚¯ã‚·ãƒ§</h3><p id="card-ss-sz">246 MB</p></div>
                </div>
            </div>
        </div>
    </main>

    <div id="similar-photos" class="view" style="padding-top:0;">
        <div class="sub-header">
            <div class="sh-left"><span class="sh-back" onclick="navTo('home')">â€¹</span> ä¼¼ã¦ã„ã¾ã™</div>
            <div class="sh-actions">
                <div class="btn-capsule" onclick="toggleSelectAll('similar-photos', this)" data-all="false">âœ“ å…¨ã¦é¸æŠ</div>
            </div>
        </div>
        <div class="detail-info"><div class="di-sub" id="sim-count-text">4æšã®å†™çœŸ (24.4 GB)</div></div>

        <div class="sim-group" id="sim-g1">
            <div class="sg-header"><span>2 ä¼¼ã¦ã„ã¾ã™</span></div>
            <div class="media-grid two-cols">
                <div class="m-item" data-mb="12200" onclick="toggleItem(this, 'similar-photos')">
                    <div class="sg-badge"><span>â˜…</span>æœ€é«˜</div>
                    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=300&q=80">
                    <div class="m-check"></div>
                </div>
                <div class="m-item checked" data-mb="12200" onclick="toggleItem(this, 'similar-photos')">
                    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=300&q=80&blur=2">
                    <div class="m-check"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="videos" class="view" style="padding-top:0;">
        <div class="sub-header">
            <div class="sh-left"><span class="sh-back" onclick="navTo('home')">â€¹</span> å‹•ç”»ã‚’æ•´ç†</div>
            <div class="sh-actions"><div class="btn-capsule" onclick="toggleSelectAll('videos', this)" data-all="false">âœ“ å…¨ã¦é¸æŠ</div></div>
        </div>
        <div class="detail-info"><div class="di-sub" id="vid-count-text">4 ã‚¢ã‚¤ãƒ†ãƒ  (14.3 GB)</div></div>
        <div class="media-grid two-cols">
            <div class="m-item" data-mb="6860" onclick="toggleItem(this, 'videos')">
                <img src="https://images.unsplash.com/photo-1600607688969-a5bfcd64fd28?w=300&q=80">
                <span class="m-size">6.86 GB</span><div class="m-check"></div>
            </div>
            <div class="m-item" data-mb="4060" onclick="toggleItem(this, 'videos')">
                <img src="https://images.unsplash.com/photo-1531306728370-53bfd6202e88?w=300&q=80">
                <span class="m-size">4.06 GB</span><div class="m-check"></div>
            </div>
            <div class="m-item" data-mb="3380" onclick="toggleItem(this, 'videos')">
                <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?w=300&q=80">
                <span class="m-size">3.38 GB</span><div class="m-check"></div>
            </div>
        </div>
    </div>

    <div id="screenshots" class="view" style="padding-top:0;">
        <div class="sub-header">
            <div class="sh-left"><span class="sh-back" onclick="navTo('home')">â€¹</span> ã‚¹ã‚¯ã‚·ãƒ§</div>
            <div class="sh-actions"><div class="btn-capsule" onclick="toggleSelectAll('screenshots', this)" data-all="false">âœ“ å…¨ã¦é¸æŠ</div></div>
        </div>
        <div class="detail-info"><div class="di-sub" id="ss-count-text">6æšã®å†™çœŸ (246 MB)</div></div>
        <div class="media-grid">
            <div class="m-item checked" data-mb="41" onclick="toggleItem(this, 'screenshots')"><img src="https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=200&q=80"><div class="m-check"></div></div>
            <div class="m-item checked" data-mb="41" onclick="toggleItem(this, 'screenshots')"><img src="https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=200&q=80&blur=1"><div class="m-check"></div></div>
            <div class="m-item checked" data-mb="41" onclick="toggleItem(this, 'screenshots')"><img src="https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=200&q=80&sepia=1"><div class="m-check"></div></div>
            <div class="m-item" data-mb="41" onclick="toggleItem(this, 'screenshots')"><img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200&q=80"><div class="m-check"></div></div>
            <div class="m-item" data-mb="41" onclick="toggleItem(this, 'screenshots')"><img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200&q=80&blur=1"><div class="m-check"></div></div>
            <div class="m-item" data-mb="41" onclick="toggleItem(this, 'screenshots')"><img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200&q=80&sepia=1"><div class="m-check"></div></div>
        </div>
    </div>

    <div id="similar-videos" class="view" style="padding-top:0;">
        <div class="sub-header">
            <div class="sh-left"><span class="sh-back" onclick="navTo('home')">â€¹</span> é¡ä¼¼ã®ãƒ“ãƒ‡ã‚ª</div>
            <div class="sh-actions"><div class="btn-capsule" onclick="toggleSelectAll('similar-videos', this)" data-all="false">âœ“ å…¨ã¦é¸æŠ</div></div>
        </div>
        <div class="detail-info"><div class="di-sub" id="simvid-count-text">2 ã‚¢ã‚¤ãƒ†ãƒ  (1.5 GB)</div></div>
        <div class="sim-group">
            <div class="sg-header"><span>2 ä¼¼ã¦ã„ã¾ã™</span></div>
            <div class="media-grid two-cols">
                <div class="m-item" data-mb="750" onclick="toggleItem(this, 'similar-videos')">
                    <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?w=300&q=80">
                    <span class="m-vid-time">00:24 â–·</span><div class="m-check"></div>
                </div>
                <div class="m-item checked" data-mb="750" onclick="toggleItem(this, 'similar-videos')">
                    <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?w=300&q=80&blur=2">
                    <span class="m-vid-time">00:08 â–·</span><div class="m-check"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="global-delete-bar" class="delete-bar" onclick="executeDelete()">
        ğŸ—‘ <span id="del-text">å‰Šé™¤</span>
    </div>

    <header id="swipe-header" style="display:none;">
        <div class="swipe-header" style="width:100%;">
            <h1>å†™çœŸã‚’ã‚¹ãƒ¯ã‚¤ãƒ—</h1>
            <div class="btn-capsule">â‰¡ ä¸¦ã¹æ›¿ãˆ</div>
        </div>
    </header>
    
    <main id="swipe" class="view">
        <div class="swipe-stats">
            <div class="stat-box"><div class="stat-icon">ğŸ–ï¸</div><div><div class="stat-label">å ±é…¬:</div><div class="stat-val">19/20</div></div></div>
            <div class="stat-box"><div class="stat-icon">ğŸ§¹</div><div><div class="stat-label">ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ¸ˆã¿:</div><div class="stat-val">42.51 GB</div></div></div>
        </div>
        
        <div class="month-list" id="swipe-month-list">
            <div class="m-card" onclick="startSwipe('2æœˆ 2026')">
                <div class="m-thumb" style="background-image:url('https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=100')"></div>
                <div class="m-info">
                    <div class="m-title">2æœˆ, 2026 <span class="m-medal">ğŸ…</span></div>
                    <div class="m-prog-txt">698/1108 ä»¶ã‚’ç¢ºèªæ¸ˆã¿</div>
                    <div class="m-prog-bg"><div class="m-prog-fill" style="width:63%"></div></div>
                </div>
            </div>
            <div class="m-card">
                <div class="m-thumb done" style="background-image:url('https://images.unsplash.com/photo-1531306728370-53bfd6202e88?w=100')"></div>
                <div class="m-info">
                    <div class="m-title">1æœˆ, 2026 <span class="m-medal active">ğŸ…</span></div>
                    <div class="m-prog-txt">1373/1373 ä»¶ã‚’ç¢ºèªæ¸ˆã¿</div>
                    <div class="m-prog-bg"><div class="m-prog-fill" style="width:100%;background:var(--accent)"></div></div>
                </div>
            </div>
            </div>
    </main>

    <div id="swipe-play">
        <div class="sp-header">
            <div class="sp-back" onclick="closeSwipe()">â€¹ æœˆ</div>
            <div style="font-weight:600; font-size:16px;" id="sp-month-title">2æœˆ 2026</div>
            <div style="width:50px;"></div></div>
        <div style="display:flex; justify-content:space-between; font-size:11px; color:var(--subtext); margin-bottom:8px;">
            <div style="width:70%; height:4px; background:var(--surface-light); border-radius:2px; margin-top:4px;"><div style="width:63%; height:100%; background:var(--success); border-radius:2px;"></div></div>
            <span>698/1108 ä»¶</span>
        </div>
        <div class="sp-img-wrap">
            <img id="sp-img" class="sp-img" src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=600&q=80">
        </div>
        <div class="sp-actions">
            <button class="sp-btn btn-dislike" onclick="handleSwipe('del')">ğŸ‘ å‰Šé™¤</button>
            <button class="sp-btn btn-like" onclick="handleSwipe('keep')">ğŸ‘ ä¿æŒ</button>
        </div>
    </div>

    <header id="guide-header" style="display:none;"><h1>ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</h1></header>
    <main id="guide" class="view">
        <div class="guide-section">
            <div class="guide-step">STEP 1</div>
            <div class="guide-title">ä¸è¦ãªå†™çœŸã‚’è¦‹ã¤ã‘ã‚‹</div>
            <div class="guide-desc">
                ãƒ›ãƒ¼ãƒ ç”»é¢ã‹ã‚‰ã€Œä¼¼ã¦ã„ã‚‹å†™çœŸã€ã‚„ã€Œå‹•ç”»ã€ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒè‡ªå‹•ã§ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚ã€Œâœ“ å…¨ã¦é¸æŠã€ã‚’æŠ¼ã—ã¦ã€ä¸€æ°—ã«å‰Šé™¤ã®æº–å‚™ã‚’ã—ã¾ã—ã‚‡ã†ã€‚
            </div>
        </div>

        <div class="guide-section">
            <div class="guide-step">STEP 2</div>
            <div class="guide-title">ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚µã‚¯ã‚µã‚¯æ•´ç†</div>
            <div class="guide-desc">
                ä¸‹ã®ã€Œã‚¹ãƒ¯ã‚¤ãƒ—ã€ã‚¿ãƒ–ã‚’é–‹ãã¨ã€æœˆã”ã¨ã®å†™çœŸãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚æ®‹ã—ãŸã„å†™çœŸã¯å³(ğŸ‘)ã¸ã€æ¶ˆã—ãŸã„å†™çœŸã¯å·¦(ğŸ‘)ã¸ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹ã ã‘ã§ã€ç°¡å˜ã«ã‚«ãƒ¡ãƒ©ãƒ­ãƒ¼ãƒ«ã‚’æƒé™¤ã§ãã¾ã™ã€‚
            </div>
        </div>

        <h3 style="font-size: 16px; margin: 30px 0 15px; padding-left: 5px;">ã‚ˆãã‚ã‚‹è³ªå• (FAQ)</h3>
        <div class="guide-section" style="padding: 10px 20px;">
            <div class="faq-item">
                <div class="faq-q">å‰Šé™¤ã—ãŸå†™çœŸã¯å…ƒã«æˆ»ã›ã¾ã™ã‹ï¼Ÿ</div>
                <div class="faq-a">ã¯ã„ã€‚iPhoneã®æ¨™æº–å†™çœŸã‚¢ãƒ—ãƒªã®ã€Œæœ€è¿‘å‰Šé™¤ã—ãŸé …ç›®ã€ã«30æ—¥é–“ä¿å­˜ã•ã‚Œã‚‹ãŸã‚ã€ã„ã¤ã§ã‚‚å¾©å…ƒå¯èƒ½ã§ã™ã€‚</div>
            </div>
            <div class="faq-item">
                <div class="faq-q">ã‚¢ãƒ—ãƒªå†…ã§æ¶ˆã—ãŸã‚‰æœ¬ä½“ã‹ã‚‰ã‚‚æ¶ˆãˆã¾ã™ã‹ï¼Ÿ</div>
                <div class="faq-a">ã¯ã„ã€é€£å‹•ã—ã¦ã„ã¾ã™ã€‚å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸéš›ã«å‡ºã‚‹iOSã®ç¢ºèªãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§ã€Œå‰Šé™¤ã€ã‚’è¨±å¯ã™ã‚‹ã¨ã€æœ¬ä½“ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚‚è»½ããªã‚Šã¾ã™ã€‚</div>
            </div>
        </div>
    </main>

    <nav>
        <div class="ni on" data-t="home" onclick="navTo('home')"><div class="nic">ğŸ </div><span>ãƒ›ãƒ¼ãƒ </span></div>
        <div class="ni" data-t="swipe" onclick="navTo('swipe')"><div class="nic">ğŸƒ</div><span>ã‚¹ãƒ¯ã‚¤ãƒ—</span></div>
        <div class="ni" data-t="guide" onclick="navTo('guide')"><div class="nic">âš™ï¸</div><span>ä½¿ã„æ–¹</span></div>
    </nav>
</div>

<script>
// --- ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç† ---
let totalStorageMB = 2000 * 1024;
let usedStorageMB = 536 * 1024;
let activeDetailView = null;

// --- åˆæœŸåŒ–å‡¦ç† ---
document.addEventListener('DOMContentLoaded', () => {
    updateHomeDisplay();
    generateDummyMonths(); // ã‚¹ãƒ¯ã‚¤ãƒ—ã®æœˆåˆ¥ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
});

// --- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ ---
function navTo(id) {
    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.getElementById(id).classList.add('active');

    if (['home', 'swipe', 'guide'].includes(id)) {
        document.querySelectorAll('.ni').forEach(x => x.classList.remove('on'));
        document.querySelector(`.ni[data-t="${id}"]`).classList.add('on');
        
        document.getElementById('home-header').style.display = id === 'home' ? 'flex' : 'none';
        document.getElementById('swipe-header').style.display = id === 'swipe' ? 'block' : 'none';
        document.getElementById('guide-header').style.display = id === 'guide' ? 'flex' : 'none';
        
        document.getElementById('global-delete-bar').classList.remove('show');
        activeDetailView = null;
        if(id === 'home') updateHomeDisplay();
    } else {
        document.getElementById('home-header').style.display = 'none';
        document.getElementById('swipe-header').style.display = 'none';
        document.getElementById('guide-header').style.display = 'none';
        activeDetailView = id;
        updateDeleteBar();
    }
}

// --- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–¢æ•° ---
function formatSize(mb) {
    return mb >= 1000 ? (mb / 1024).toFixed(1) + ' GB' : Math.round(mb) + ' MB';
}

// --- é¸æŠã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ---
function toggleItem(el, viewId) {
    if(el.querySelector('.sg-badge')) {
        alert("ã“ã‚Œã¯ãƒ™ã‚¹ãƒˆã‚·ãƒ§ãƒƒãƒˆ(KEEP)ã¨ã—ã¦ä¿è­·ã•ã‚Œã¦ã„ã¾ã™ã€‚");
        return;
    }
    el.classList.toggle('checked');
    updateDeleteBar();
}

function toggleSelectAll(viewId, btnNode) {
    const view = document.getElementById(viewId);
    const isAll = btnNode.dataset.all === 'true';
    const items = Array.from(view.querySelectorAll('.m-item')).filter(el => !el.querySelector('.sg-badge'));
    
    items.forEach(el => {
        if (isAll) el.classList.remove('checked');
        else el.classList.add('checked');
    });

    btnNode.dataset.all = !isAll;
    btnNode.innerHTML = !isAll ? 'Ã— é¸æŠã‚’è§£é™¤' : 'âœ“ å…¨ã¦é¸æŠ';
    updateDeleteBar();
}

// --- å‰Šé™¤æ©Ÿèƒ½ ---
function updateDeleteBar() {
    if(!activeDetailView) return;
    const view = document.getElementById(activeDetailView);
    const checkedItems = view.querySelectorAll('.m-item.checked');
    const bar = document.getElementById('global-delete-bar');
    const txtNode = document.getElementById('del-text');
    
    if (checkedItems.length > 0) {
        let totalMB = 0;
        checkedItems.forEach(item => totalMB += parseFloat(item.dataset.mb || 0));
        let label = activeDetailView === 'screenshots' ? 'ã®ã‚¹ã‚¯ã‚·ãƒ§' : (activeDetailView === 'videos' ? 'ã®å‹•ç”»' : 'ã®é¡ä¼¼ã‚¢ã‚¤ãƒ†ãƒ ');
        txtNode.innerText = `${checkedItems.length}${label}ã‚’å‰Šé™¤ (${formatSize(totalMB)})`;
        bar.classList.add('show');
    } else {
        bar.classList.remove('show');
    }
}

function executeDelete() {
    if(!activeDetailView) return;
    const view = document.getElementById(activeDetailView);
    const checkedItems = view.querySelectorAll('.m-item.checked');
    if(checkedItems.length === 0) return;

    if(confirm(`${checkedItems.length}ä»¶ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’iPhoneã‹ã‚‰å®Œå…¨ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
        let freedMB = 0;
        checkedItems.forEach(el => {
            freedMB += parseFloat(el.dataset.mb || 0);
            el.classList.add('deleting');
            setTimeout(() => {
                el.remove();
                recalculateViewTotal(view.id);
            }, 300);
        });
        
        usedStorageMB -= freedMB;
        document.getElementById('global-delete-bar').classList.remove('show');
        const btn = view.querySelector('.btn-capsule');
        if(btn) { btn.dataset.all = 'false'; btn.innerHTML = 'âœ“ å…¨ã¦é¸æŠ'; }
    }
}

function recalculateViewTotal(viewId) {
    const view = document.getElementById(viewId);
    const remainingItems = view.querySelectorAll('.m-item');
    let totalMB = 0;
    remainingItems.forEach(el => totalMB += parseFloat(el.dataset.mb || 0));

    let labelId = ''; let unitName = 'ã‚¢ã‚¤ãƒ†ãƒ ';
    if(viewId === 'similar-photos') { labelId = 'sim-count-text'; unitName = 'æšã®å†™çœŸ'; document.getElementById('card-sim-sz').innerText = formatSize(totalMB); }
    if(viewId === 'videos') { labelId = 'vid-count-text'; unitName = 'ã‚¢ã‚¤ãƒ†ãƒ '; document.getElementById('card-vid-sz').innerText = formatSize(totalMB); }
    if(viewId === 'screenshots') { labelId = 'ss-count-text'; unitName = 'æšã®å†™çœŸ'; document.getElementById('card-ss-sz').innerText = formatSize(totalMB); }
    if(viewId === 'similar-videos') { labelId = 'simvid-count-text'; unitName = 'ã‚¢ã‚¤ãƒ†ãƒ '; document.getElementById('card-simvid-sz').innerText = formatSize(totalMB); }
    
    const txtNode = document.getElementById(labelId);
    if(txtNode) txtNode.innerText = `${remainingItems.length} ${unitName} (${formatSize(totalMB)})`;
}

function updateHomeDisplay() {
    const usedGB = (usedStorageMB / 1024).toFixed(1);
    const pct = ((usedStorageMB / totalStorageMB) * 100).toFixed(1);
    document.getElementById('home-used-gb').innerText = `${usedGB} GB`;
    document.getElementById('home-pct').innerText = `${pct}% ä½¿ç”¨æ¸ˆã¿`;
    document.getElementById('home-bar').style.width = `${pct}%`;
}

// --- ã‚¹ãƒ¯ã‚¤ãƒ—æ©Ÿèƒ½é–¢é€£ ---
function generateDummyMonths() {
    const list = document.getElementById('swipe-month-list');
    let year = 2025; let month = 11;
    
    for(let i=0; i<13; i++) {
        const total = Math.floor(Math.random() * 800) + 200;
        list.innerHTML += `
            <div class="m-card">
                <div class="m-thumb done" style="background-color: var(--surface-light);"></div>
                <div class="m-info">
                    <div class="m-title">${month}æœˆ, ${year} <span class="m-medal active">ğŸ…</span></div>
                    <div class="m-prog-txt">${total}/${total} ä»¶ã‚’ç¢ºèªæ¸ˆã¿</div>
                    <div class="m-prog-bg"><div class="m-prog-fill" style="width:100%; background:var(--accent)"></div></div>
                </div>
            </div>`;
        month--;
        if(month === 0) { month = 12; year--; }
    }
}

function startSwipe(title) {
    document.getElementById('sp-month-title').innerText = title;
    document.getElementById('swipe-play').style.display = 'flex';
}
function closeSwipe() {
    document.getElementById('swipe-play').style.display = 'none';
}
function handleSwipe(action) {
    const imgEl = document.getElementById('sp-img');
    imgEl.classList.add(action === 'del' ? 'swipe-left' : 'swipe-right');
    setTimeout(() => { imgEl.className = 'sp-img'; }, 300);
}
</script>
</body>
</html>
